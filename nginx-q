Q. i m using eks so in that i m using nginx ingress controller so I need network load balancer why ?
--> EKS + NGINX Ingress Controller рд╡рд╛рдкрд░рдд рдЕрд╕рд╢реАрд▓, рддрд░ рд╣реЛ тАФ рддреБрд▓рд╛ Network Load Balancer (NLB) рд▓рд╛рдЧрддреЛ.
ЁЯЪА Why NLB is Required for NGINX Ingress Controller on EKS?
When you install NGINX ingress controller, рддреЗ cluster рдЪреНрдпрд╛ рдмрд╛рд╣реЗрд░реВрди traffic receive рдХрд░рд╛рдпрд▓рд╛ рдкрд╛рд╣рд┐рдЬреЗ.
But pods рд▓рд╛ directly public IP рдорд┐рд│рдд рдирд╛рд╣реА.
Kubernetes рдордзреНрдпреЗ рдПрдХ external entry-point рд▓рд╛рдЧрддреЛ тАФ LoadBalancer type Service.
------------------------------------------
ЁЯФе NGINX Ingress Controller = Runs inside cluster
рддреЛ рдлрдХреНрдд рдПрдХ pod/deployment рдЖрд╣реЗ.
рддреЛ рдмрд╛рд╣реЗрд░рдЪреНрдпрд╛ internet рд▓рд╛ рджрд┐рд╕рдд рдирд╛рд╣реА.
рдореНрд╣рдгреВрдирдЪ рддреНрдпрд╛рд▓рд╛ рдПрдХреНрд╕рдкреЛрдЬ рдХрд░рд╛рдпрд▓рд╛ рд▓рд╛рдЧрддреЗ:
тЮд Service Type: LoadBalancer
EKS рдордзреНрдпреЗ рдЬреЗрд╡реНрд╣рд╛ рддреВ LoadBalancer service рдмрдирд╡рддреЛрд╕
рддреЗрдВрд╡реНрд╣рд╛ AWS рдЖрдкреЛрдЖрдк рдПрдХ NLB (Network Load Balancer) рддрдпрд╛рд░ рдХрд░рддреЗ.
---------------------------------------------------------------
тЬФ NGINX needs NLB because:

NLB supports TCP/UDP traffic
(NGINX is TCP-based)

NLB preserves source IP
рдЬреНрдпрд╛рдЪреА NGINX рд▓рд╛ рдЧрд░рдЬ рдЖрд╣реЗ.

NLB is faster & more stable for L4 load balancing

NLB works perfectly with NodePort bonding
тЖТ NGINX ingress internal nodeports рд╡рд╛рдкрд░рддреЛ.
---------------------------------------------------
[Internet]
     |
     v
[NLB - AWS External LB]
     |
     v
[NGINX Ingress Controller Service (LoadBalancer)]
     |
     v
[NGINX Pods]
     |
     v
[Your Backend Services]
----------------------------------------------------------------------------------------
Q. give me nginx ingress controller yaml files where we defines service type ? NLB ?
Q. so we not written here kind: ingress ?
--> ЁЯза Ingress Controller vs Ingress Resource тЖТ рджреЛрдиреНрд╣реА рд╡реЗрдЧрд╡реЗрдЧрд│реЗ рдЖрд╣реЗрдд
1я╕ПтГг Ingress Controller (NGINX)
рд╣реЗ рдПрдХ pod/deployment рдЖрд╣реЗ
рдЬреЗ рддреБрдордЪреНрдпрд╛ cluster рдордзреАрд▓ Ingress rules process рдХрд░рддреЗ
рддреНрдпрд╛рд▓рд╛ internet рд╡рд░реВрди traffic рдорд┐рд│рдгреНрдпрд╛рд╕рд╛рдареА рдЖрдкрдг:
Deployment рдмрдирд╡рддреЛ
Service type = LoadBalancer (NLB) рджреЗрддреЛ
ЁЯСЙ рд╣рд╛ рднрд╛рдЧ controller setup рдЖрд╣реЗ тАФ рдЗрдереЗ kind: Ingress рдирд╕рддреЛ.
------------------------------------------------------------------------------------
2я╕ПтГг Ingress Resource (Your application routing rules)
рдЬреЗрд╡реНрд╣рд╛ NGINX already running рдЖрд╣реЗ, рддреЗрд╡реНрд╣рд╛ рддреБрдореНрд╣реА actual URL/path routing rules рд▓рд┐рд╣рд┐рддрд╛.
рдЗрдереЗ рддреБрдореНрд╣реА kind: Ingress рд╡рд╛рдкрд░рддрд╛.
-------------------------------------------------------------------------------------------
тнР Final Answer
ЁЯСЙ No тАФ NGINX ingress controller setup рдХрд░рддрд╛рдирд╛ рддреБрдореНрд╣реА kind: Ingress рд▓рд┐рд╣рд┐рдд рдирд╛рд╣реА.
ЁЯСЙ kind: Ingress рдлрдХреНрдд рддреБрдордЪреНрдпрд╛ application routing рд╕рд╛рдареА рд╡рд╛рдкрд░рд▓рд╛ рдЬрд╛рддреЛ тАФ controller рдЪрд╛рд▓реВ рдЭрд╛рд▓реНрдпрд╛рд╡рд░.
----------------------------------------------------------------------------------------------





















